"use strict";(self.webpackChunkreact_yarn_route=self.webpackChunkreact_yarn_route||[]).push([[697],{5166:function(e,n,t){t.d(n,{w:function(){return a}});var a="https://script.google.com/macros/s/AKfycbwCsriX7oADfBt0itTdU8amIt7KLAn3Z_LClAZOGZ31JsXTNqDcZgCM4ICps-RZNoQU/exec?action="},697:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var a=t(4165),r=t(5861),c=t(9439),s=t(2791),o=t(7689),i=(t(3508),t(3263)),u=t(5166),l=i.Z.create({baseURL:u.w,headers:{"Content-type":"application/json"}}),d=t(9513),p=t.n(d),f=(t(8639),t(2426)),m=t.n(f),h=t(9434),v=t(184),x={username:"",phone:0,paidamount:0,totaldue:0},y=function(){var e=(0,s.useState)([]),n=(0,c.Z)(e,2),t=n[0],i=n[1],d=(0,s.useState)(x),f=(0,c.Z)(d,2),y=f[0],j=f[1],Z=(0,s.useState)(""),g=(0,c.Z)(Z,2),w=g[0],N=g[1],b=(0,s.useState)(new Date),k=(0,c.Z)(b,2),S=k[0],C=k[1],D=(0,s.useState)(""),M=(0,c.Z)(D,2),E=M[0],_=M[1],A=(0,s.useState)(!1),I=(0,c.Z)(A,2),L=I[0],P=I[1],T=(0,s.useState)(!1),Y=(0,c.Z)(T,2),O=Y[0],U=Y[1],B=(0,s.useState)(""),F=(0,c.Z)(B,2),J=F[0],K=F[1],R=(0,o.s0)(),X=(0,h.v9)((function(e){return e.bank})).userName;function q(){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)((0,a.Z)().mark((function e(){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,l.get("".concat(u.w,"getPlayerName&playDate=").concat(w));case 4:n=e.sent,i(n.data),_(n.data[0][2]),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log((null===(t=e.t0.response)||void 0===t?void 0:t.data)||e.t0);case 12:Q(X),P(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function Q(e){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)((0,a.Z)().mark((function e(n){var t,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.get("".concat(u.w,"getuserDetails&username=").concat(n));case 3:t=e.sent,j(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log((null===(r=e.t0.response)||void 0===r?void 0:r.data)||e.t0);case 10:P(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}(0,s.useEffect)((function(){var e="https://api.whatsapp.com/send?phone=91".concat(null===y||void 0===y?void 0:y.phone);K(e)}),[y]);function H(){return(H=(0,r.Z)((0,a.Z)().mark((function e(){var n,r,c,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&(n=t.find((function(e){return e[0]===X})),U(!!n)),P(!0),r="".concat(u.w,"addPlayers"),c={name:X,position:"forward",dateandtime:w,groundfee:125,remarks:"IN"},e.next=6,fetch(r,{method:"POST",mode:"no-cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(c)}).then((function(e){return e})).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 6:return s=e.sent,q(),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){P(!0);var e=localStorage.getItem("username");e?Q(e):R("/home"),_(""),i([])}),[]),(0,s.useEffect)((function(){var e=m()(S).format("ddd - D-MMM-YYYY");N(e),U(!1)}),[S]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"d-flex justify-content-center mb-3",children:(0,v.jsxs)("div",{className:"p-3 my-1 mainArea ",children:[(null===E||void 0===E?void 0:E.length)>0&&(0,v.jsxs)("div",{className:"px-1 ",children:[(0,v.jsxs)("mark",{children:[w," "]})," "]}),L&&(0,v.jsx)("p",{children:"Loading..."}),t&&!L&&t.map((function(e,n){return(0,v.jsx)("p",{className:"m-0",children:"".concat(n+1," - ").concat(e[0])},n)})),O&&(0,v.jsxs)("div",{className:"m-1 ",children:[(0,v.jsxs)("mark",{children:["you are already in"," "]})," "]})]})}),(0,v.jsxs)("div",{className:"d-flex justify-content-center mb-3",children:[(0,v.jsx)("div",{className:"p-2 mx-1",children:"Paid : ".concat(null===y||void 0===y?void 0:y.paidamount)}),(0,v.jsxs)("div",{className:"p-2 mx-1",children:["Balance : ".concat(null===y||void 0===y?void 0:y.totaldue)," "]})]}),(0,v.jsxs)("div",{className:"d-flex justify-content-center mb-3",children:[(null===J||void 0===J?void 0:J.length)>0&&(0,v.jsx)("a",{href:J,target:"_blank",children:"Link Icon"}),(0,v.jsx)("div",{className:"p-2 mx-1",children:(0,v.jsx)(p(),{selected:S,dateFormat:"EEE - d-MMM-yyyy",minDate:new Date,onChange:function(e){i([]),C(e)}})}),(0,v.jsx)("div",{className:"p-2 mx-1",children:(0,v.jsx)("button",{className:"btn btn-warning btn-sm",onClick:function(){return H.apply(this,arguments)},children:"add me"})})]})]})}}}]);
//# sourceMappingURL=697.66652688.chunk.js.map