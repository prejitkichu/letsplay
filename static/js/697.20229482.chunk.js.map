{"version":3,"file":"static/js/697.20229482.chunk.js","mappings":"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","sources":["api/apiConstant.ts","api/axios.ts","pages/Dashboard.tsx"],"sourcesContent":["const url ='https://script.google.com/macros/s/AKfycbwjsce2Rebv_TEOS5hp1rBlc0U4zums5LjpGx69xGGkVXSls7r24O6TWRfoBab8QCz6/exec';\r\nexport const apiLink =  url+'?action=';","import axios from 'axios';\r\nimport { apiLink } from './apiConstant'\r\n\r\nexport default axios.create({\r\n  baseURL: apiLink,\r\n  headers: { \r\n    \"Content-type\": \"application/json\"\r\n  }\r\n});\r\n\r\n ","import * as React from \"react\";\r\nimport {  useNavigate } from \"react-router-dom\";\r\nimport \"../App.css\"\r\nimport { useState, useEffect} from 'react';\r\nimport apiClient  from \"../api/axios\";\r\nimport {apiLink}  from \"../api/apiConstant\"; \r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport moment from 'moment';\r\nimport { stringify } from \"querystring\";\r\n\r\nconst defaultUser = {\r\n  \"username\": \"\",\r\n  \"phone\": 0,\r\n  \"paidamount\": 0,\r\n  \"totaldue\": 0\r\n}\r\n\r\n  const Dashboard = ()=>{ \r\n    const [players, setplayers] = useState([]);\r\n    const [userDetail, setuserDetail] = useState(defaultUser);\r\n    const [dates, setdates] = useState(''); \r\n    const [startDate, setStartDate] = useState(new Date());\r\n    const [dateDiv, setdateDiv] = useState('');\r\n    const [isLoading, setisLoading] = useState(false);\r\n    const [hrefLink , sethrefLink] = useState('');\r\n    const navigate= useNavigate();\r\n    //  <a href=\"https://api.whatsapp.com/send?phone=919036120310\" target=\"_blank\">Link Icon</a>\r\n\r\n    async function getAllData() {\r\n      setisLoading(true);\r\n      try {\r\n        const res = await apiClient.get(`${apiLink}getPlayerName&playDate=${dates}`);  \r\n        setplayers( res.data)   \r\n        setdateDiv(res.data[0][2]); \r\n         \r\n      } catch (err: any) {\r\n        console.log( err.response?.data || err );\r\n        \r\n      }\r\n      setisLoading(false);\r\n    }\r\n\r\n    async function getuserDetails(username: string) {\r\n      try {\r\n        const res = await apiClient.get(`${apiLink}getuserDetails&username=${username}`);          \r\n        setuserDetail(res.data); \r\n         \r\n      } catch (err: any) {\r\n        console.log( err.response?.data || err );\r\n        \r\n      }\r\n      setisLoading(false);\r\n    }\r\n\r\n    useEffect(()=>{       \r\n      const href = `https://api.whatsapp.com/send?phone=91${userDetail?.phone}`       \r\n      sethrefLink(href)\r\n    }, [userDetail])\r\n    \r\n    const udata = {\r\n      name: \"ranjith\",\r\n      age:10,\r\n      phone:998866\r\n    }\r\n\r\n    useEffect(()=>{\r\n      setisLoading(true);\r\n      const username = localStorage.getItem('username'); \r\n      if(username){ \r\n        getuserDetails(username)\r\n      }\r\n      else{ \r\n        navigate('/home') \r\n      }      \r\n      setdateDiv('')      \r\n      setplayers([]) \r\n    },[])\r\n\r\nuseEffect(()=>{\r\n  const d = moment(startDate).format('ddd - D-MMM-YYYY');\r\n  setdates(d); \r\n},[startDate])\r\n  \r\n    return (\r\n      <>\r\n      \r\n      <div className=\"d-flex justify-content-center mb-3\">\r\n      \r\n      <div className=\"p-3 my-1 mainArea \">   \r\n      {dateDiv?.length > 0 && \r\n          <div className=\"px-1 \"><mark>{dates} </mark> </div> \r\n        }    \r\n        {isLoading && <p>Loading...</p>}\r\n       {players &&\r\n        players.map((item:any, index: number)=> {return(\r\n          <p className=\"m-0\" key={index}>{`${index+1} - ${item[0]}`}</p> \r\n        )}) }\r\n       </div>\r\n       \r\n                \r\n      </div>\r\n   \r\n      \r\n      <div className=\"d-flex justify-content-center mb-3\">\r\n        <div className=\"p-2 mx-1\">{`Paid : ${userDetail?.paidamount}`}</div>\r\n        <div className=\"p-2 mx-1\">{ `Balance : ${userDetail?.totaldue}`} </div> \r\n      </div>\r\n      <div className=\"d-flex justify-content-center mb-3\">\r\n      {hrefLink?.length>0 && <a href={hrefLink} target=\"_blank\">Link Icon</a>}\r\n        <div className=\"p-2 mx-1\">\r\n          <DatePicker \r\n          selected={startDate} \r\n          dateFormat=\"EEE - d-MMM-yyyy\"  \r\n          minDate={new Date()}        \r\n          onChange={(date:Date) => { setplayers([]); setStartDate(date)}} />        \r\n          </div>\r\n          <div className=\"p-2 mx-1\">\r\n            <button className=\"btn btn-warning btn-sm\" onClick={getAllData}>add me</button></div>\r\n      </div>\r\n       \r\n      </>\r\n        \r\n    )\r\n}\r\n\r\nexport default Dashboard"],"names":["apiLink","url","axios","baseURL","headers","defaultUser","useState","players","setplayers","userDetail","setuserDetail","dates","setdates","Date","startDate","setStartDate","dateDiv","setdateDiv","isLoading","setisLoading","hrefLink","sethrefLink","navigate","useNavigate","apiClient","res","data","console","log","response","username","useEffect","href","phone","localStorage","getItem","getuserDetails","d","moment","format","className","length","map","item","index","paidamount","totaldue","target","selected","dateFormat","minDate","onChange","date","onClick"],"sourceRoot":""}